import{r as u,o as ne,n as F,p,U as C,y as k,q as P,c1 as Re,c2 as ye,cc as Se,c8 as q,R as Q,c3 as Le,c4 as H,l as Ie,cp as $e,m as we,C as E,I as G,c5 as X,c9 as Te,w as De,x as m,cb as Pe,T as Fe,O as _,t as Ce,j as h,G as ke,cf as Ee}from"./index-CV0oviIo.js";function oe(e,n){let[t,o]=u.useState(e),l=ne(e);return F(()=>o(l.current),[l,o,...n]),t}function je(e,n,t){let[o,l]=u.useState(t),r=e!==void 0,a=u.useRef(r),i=u.useRef(!1),f=u.useRef(!1);return r&&!a.current&&!i.current?(i.current=!0,a.current=r,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!r&&a.current&&!f.current&&(f.current=!0,a.current=r,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[r?e:o,p(v=>(r||l(v),n==null?void 0:n(v)))]}function ee(e){return[e.screenX,e.screenY]}function Ne(){let e=u.useRef([-1,-1]);return{wasMoved(n){let t=ee(n);return e.current[0]===t[0]&&e.current[1]===t[1]?!1:(e.current=t,!0)},update(n){e.current=ee(n)}}}function Ae(e){throw new Error("Unexpected object: "+e)}var L=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(L||{});function Me(e,n){let t=n.resolveItems();if(t.length<=0)return null;let o=n.resolveActiveIndex(),l=o??-1;switch(e.focus){case 0:{for(let r=0;r<t.length;++r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 1:{for(let r=l-1;r>=0;--r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 2:{for(let r=l+1;r<t.length;++r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 3:{for(let r=t.length-1;r>=0;--r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 4:{for(let r=0;r<t.length;++r)if(n.resolveId(t[r],r,t)===e.id)return r;return o}case 5:return null;default:Ae(e)}}function ae(e={},n=null,t=[]){for(let[o,l]of Object.entries(e))ie(t,le(n,o),l);return t}function le(e,n){return e?e+"["+n+"]":n}function ie(e,n,t){if(Array.isArray(t))for(let[o,l]of t.entries())ie(e,le(n,o.toString()),l);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):ae(t,n,e)}let te=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function re(e){var n,t;let o=(n=e.innerText)!=null?n:"",l=e.cloneNode(!0);if(!(l instanceof HTMLElement))return o;let r=!1;for(let i of l.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))i.remove(),r=!0;let a=r?(t=l.innerText)!=null?t:"":o;return te.test(a)&&(a=a.replace(te,"")),a}function Be(e){let n=e.getAttribute("aria-label");if(typeof n=="string")return n.trim();let t=e.getAttribute("aria-labelledby");if(t){let o=t.split(" ").map(l=>{let r=document.getElementById(l);if(r){let a=r.getAttribute("aria-label");return typeof a=="string"?a.trim():re(r).trim()}return null}).filter(Boolean);if(o.length>0)return o.join(", ")}return re(e).trim()}function Ue(e){let n=u.useRef(""),t=u.useRef("");return p(()=>{let o=e.current;if(!o)return"";let l=o.innerText;if(n.current===l)return t.current;let r=Be(o).trim().toLowerCase();return n.current=l,t.current=r,r})}var Qe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Qe||{}),ze=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ze||{}),qe=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(qe||{}),He=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(He||{});function W(e,n=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=Ce(n(e.options.slice()),r=>r.dataRef.current.domRef.current),l=t?o.indexOf(t):null;return l===-1&&(l=null),{options:o,activeOptionIndex:l}}let Ge={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let n=e.activeOptionIndex,{isSelected:t}=e.dataRef.current,o=e.options.findIndex(l=>t(l.dataRef.current.value));return o!==-1&&(n=o),{...e,listboxState:0,activeOptionIndex:n}},2(e,n){var t;if(e.dataRef.current.disabled||e.listboxState===1)return e;let o=W(e),l=Me(n,{resolveItems:()=>o.options,resolveActiveIndex:()=>o.activeOptionIndex,resolveId:r=>r.id,resolveDisabled:r=>r.dataRef.current.disabled});return{...e,...o,searchQuery:"",activeOptionIndex:l,activationTrigger:(t=n.trigger)!=null?t:1}},3:(e,n)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let t=e.searchQuery!==""?0:1,o=e.searchQuery+n.value.toLowerCase(),l=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+t).concat(e.options.slice(0,e.activeOptionIndex+t)):e.options).find(a=>{var i;return!a.dataRef.current.disabled&&((i=a.dataRef.current.textValue)==null?void 0:i.startsWith(o))}),r=l?e.options.indexOf(l):-1;return r===-1||r===e.activeOptionIndex?{...e,searchQuery:o}:{...e,searchQuery:o,activeOptionIndex:r,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,n)=>{let t={id:n.id,dataRef:n.dataRef},o=W(e,l=>[...l,t]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(n.dataRef.current.value)&&(o.activeOptionIndex=o.options.indexOf(t)),{...e,...o}},6:(e,n)=>{let t=W(e,o=>{let l=o.findIndex(r=>r.id===n.id);return l!==-1&&o.splice(l,1),o});return{...e,...t,activationTrigger:1}},7:(e,n)=>({...e,labelId:n.id})},Y=u.createContext(null);Y.displayName="ListboxActionsContext";function j(e){let n=u.useContext(Y);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,j),t}return n}let J=u.createContext(null);J.displayName="ListboxDataContext";function N(e){let n=u.useContext(J);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,N),t}return n}function Ve(e,n){return P(n.type,Ge,e,n)}let Ke=u.Fragment;function We(e,n){let{value:t,defaultValue:o,form:l,name:r,onChange:a,by:i=(c,d)=>c===d,disabled:f=!1,horizontal:v=!1,multiple:O=!1,...$}=e;const D=v?"horizontal":"vertical";let w=k(n),[R=O?[]:void 0,I]=je(t,a,o),[x,s]=u.useReducer(Ve,{dataRef:u.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),g=u.useRef({static:!1,hold:!1}),A=u.useRef(null),M=u.useRef(null),V=u.useRef(null),y=p(typeof i=="string"?(c,d)=>{let S=i;return(c==null?void 0:c[S])===(d==null?void 0:d[S])}:i),T=u.useCallback(c=>P(b.mode,{1:()=>R.some(d=>y(d,c)),0:()=>y(R,c)}),[R]),b=u.useMemo(()=>({...x,value:R,disabled:f,mode:O?1:0,orientation:D,compare:y,isSelected:T,optionsPropsRef:g,labelRef:A,buttonRef:M,optionsRef:V}),[R,f,O,x]);F(()=>{x.dataRef.current=b},[b]),Re([b.buttonRef,b.optionsRef],(c,d)=>{var S;s({type:1}),ye(d,Se.Loose)||(c.preventDefault(),(S=b.buttonRef.current)==null||S.focus())},b.listboxState===0);let se=u.useMemo(()=>({open:b.listboxState===0,disabled:f,value:R}),[b,f,R]),ue=p(c=>{let d=b.options.find(S=>S.id===c);d&&K(d.dataRef.current.value)}),ce=p(()=>{if(b.activeOptionIndex!==null){let{dataRef:c,id:d}=b.options[b.activeOptionIndex];K(c.current.value),s({type:2,focus:L.Specific,id:d})}}),de=p(()=>s({type:0})),pe=p(()=>s({type:1})),fe=p((c,d,S)=>c===L.Specific?s({type:2,focus:L.Specific,id:d,trigger:S}):s({type:2,focus:c,trigger:S})),be=p((c,d)=>(s({type:5,id:c,dataRef:d}),()=>s({type:6,id:c}))),ve=p(c=>(s({type:7,id:c}),()=>s({type:7,id:null}))),K=p(c=>P(b.mode,{0(){return I==null?void 0:I(c)},1(){let d=b.value.slice(),S=d.findIndex(U=>y(U,c));return S===-1?d.push(c):d.splice(S,1),I==null?void 0:I(d)}})),xe=p(c=>s({type:3,value:c})),ge=p(()=>s({type:4})),me=u.useMemo(()=>({onChange:K,registerOption:be,registerLabel:ve,goToOption:fe,closeListbox:pe,openListbox:de,selectActiveOption:ce,selectOption:ue,search:xe,clearSearch:ge}),[]),he={ref:w},B=u.useRef(null),Oe=q();return u.useEffect(()=>{B.current&&o!==void 0&&Oe.addEventListener(B.current,"reset",()=>{I==null||I(o)})},[B,I]),Q.createElement(Y.Provider,{value:me},Q.createElement(J.Provider,{value:b},Q.createElement(Le,{value:P(b.listboxState,{0:H.Open,1:H.Closed})},r!=null&&R!=null&&ae({[r]:R}).map(([c,d],S)=>Q.createElement(Ie,{features:we.Hidden,ref:S===0?U=>{var Z;B.current=(Z=U==null?void 0:U.closest("form"))!=null?Z:null}:void 0,...$e({key:c,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:l,disabled:f,name:c,value:d})})),E({ourProps:he,theirProps:$,slot:se,defaultTag:Ke,name:"Listbox"}))))}let Xe="button";function Ye(e,n){var t;let o=G(),{id:l=`headlessui-listbox-button-${o}`,...r}=e,a=N("Listbox.Button"),i=j("Listbox.Button"),f=k(a.buttonRef,n),v=q(),O=p(x=>{switch(x.key){case m.Space:case m.Enter:case m.ArrowDown:x.preventDefault(),i.openListbox(),v.nextFrame(()=>{a.value||i.goToOption(L.First)});break;case m.ArrowUp:x.preventDefault(),i.openListbox(),v.nextFrame(()=>{a.value||i.goToOption(L.Last)});break}}),$=p(x=>{switch(x.key){case m.Space:x.preventDefault();break}}),D=p(x=>{if(Pe(x.currentTarget))return x.preventDefault();a.listboxState===0?(i.closeListbox(),v.nextFrame(()=>{var s;return(s=a.buttonRef.current)==null?void 0:s.focus({preventScroll:!0})})):(x.preventDefault(),i.openListbox())}),w=oe(()=>{if(a.labelId)return[a.labelId,l].join(" ")},[a.labelId,l]),R=u.useMemo(()=>({open:a.listboxState===0,disabled:a.disabled,value:a.value}),[a]),I={ref:f,id:l,type:Fe(e,a.buttonRef),"aria-haspopup":"listbox","aria-controls":(t=a.optionsRef.current)==null?void 0:t.id,"aria-expanded":a.listboxState===0,"aria-labelledby":w,disabled:a.disabled,onKeyDown:O,onKeyUp:$,onClick:D};return E({ourProps:I,theirProps:r,slot:R,defaultTag:Xe,name:"Listbox.Button"})}let Je="label";function Ze(e,n){let t=G(),{id:o=`headlessui-listbox-label-${t}`,...l}=e,r=N("Listbox.Label"),a=j("Listbox.Label"),i=k(r.labelRef,n);F(()=>a.registerLabel(o),[o]);let f=p(()=>{var O;return(O=r.buttonRef.current)==null?void 0:O.focus({preventScroll:!0})}),v=u.useMemo(()=>({open:r.listboxState===0,disabled:r.disabled}),[r]);return E({ourProps:{ref:i,id:o,onClick:f},theirProps:l,slot:v,defaultTag:Je,name:"Listbox.Label"})}let _e="ul",et=_.RenderStrategy|_.Static;function tt(e,n){var t;let o=G(),{id:l=`headlessui-listbox-options-${o}`,...r}=e,a=N("Listbox.Options"),i=j("Listbox.Options"),f=k(a.optionsRef,n),v=q(),O=q(),$=Te(),D=$!==null?($&H.Open)===H.Open:a.listboxState===0;u.useEffect(()=>{var s;let g=a.optionsRef.current;g&&a.listboxState===0&&g!==((s=De(g))==null?void 0:s.activeElement)&&g.focus({preventScroll:!0})},[a.listboxState,a.optionsRef]);let w=p(s=>{switch(O.dispose(),s.key){case m.Space:if(a.searchQuery!=="")return s.preventDefault(),s.stopPropagation(),i.search(s.key);case m.Enter:if(s.preventDefault(),s.stopPropagation(),a.activeOptionIndex!==null){let{dataRef:g}=a.options[a.activeOptionIndex];i.onChange(g.current.value)}a.mode===0&&(i.closeListbox(),X().nextFrame(()=>{var g;return(g=a.buttonRef.current)==null?void 0:g.focus({preventScroll:!0})}));break;case P(a.orientation,{vertical:m.ArrowDown,horizontal:m.ArrowRight}):return s.preventDefault(),s.stopPropagation(),i.goToOption(L.Next);case P(a.orientation,{vertical:m.ArrowUp,horizontal:m.ArrowLeft}):return s.preventDefault(),s.stopPropagation(),i.goToOption(L.Previous);case m.Home:case m.PageUp:return s.preventDefault(),s.stopPropagation(),i.goToOption(L.First);case m.End:case m.PageDown:return s.preventDefault(),s.stopPropagation(),i.goToOption(L.Last);case m.Escape:return s.preventDefault(),s.stopPropagation(),i.closeListbox(),v.nextFrame(()=>{var g;return(g=a.buttonRef.current)==null?void 0:g.focus({preventScroll:!0})});case m.Tab:s.preventDefault(),s.stopPropagation();break;default:s.key.length===1&&(i.search(s.key),O.setTimeout(()=>i.clearSearch(),350));break}}),R=oe(()=>{var s;return(s=a.buttonRef.current)==null?void 0:s.id},[a.buttonRef.current]),I=u.useMemo(()=>({open:a.listboxState===0}),[a]),x={"aria-activedescendant":a.activeOptionIndex===null||(t=a.options[a.activeOptionIndex])==null?void 0:t.id,"aria-multiselectable":a.mode===1?!0:void 0,"aria-labelledby":R,"aria-orientation":a.orientation,id:l,onKeyDown:w,role:"listbox",tabIndex:0,ref:f};return E({ourProps:x,theirProps:r,slot:I,defaultTag:_e,features:et,visible:D,name:"Listbox.Options"})}let rt="li";function nt(e,n){let t=G(),{id:o=`headlessui-listbox-option-${t}`,disabled:l=!1,value:r,...a}=e,i=N("Listbox.Option"),f=j("Listbox.Option"),v=i.activeOptionIndex!==null?i.options[i.activeOptionIndex].id===o:!1,O=i.isSelected(r),$=u.useRef(null),D=Ue($),w=ne({disabled:l,value:r,domRef:$,get textValue(){return D()}}),R=k(n,$);F(()=>{if(i.listboxState!==0||!v||i.activationTrigger===0)return;let y=X();return y.requestAnimationFrame(()=>{var T,b;(b=(T=$.current)==null?void 0:T.scrollIntoView)==null||b.call(T,{block:"nearest"})}),y.dispose},[$,v,i.listboxState,i.activationTrigger,i.activeOptionIndex]),F(()=>f.registerOption(o,w),[w,o]);let I=p(y=>{if(l)return y.preventDefault();f.onChange(r),i.mode===0&&(f.closeListbox(),X().nextFrame(()=>{var T;return(T=i.buttonRef.current)==null?void 0:T.focus({preventScroll:!0})}))}),x=p(()=>{if(l)return f.goToOption(L.Nothing);f.goToOption(L.Specific,o)}),s=Ne(),g=p(y=>s.update(y)),A=p(y=>{s.wasMoved(y)&&(l||v||f.goToOption(L.Specific,o,0))}),M=p(y=>{s.wasMoved(y)&&(l||v&&f.goToOption(L.Nothing))}),V=u.useMemo(()=>({active:v,selected:O,disabled:l}),[v,O,l]);return E({ourProps:{id:o,ref:R,role:"option",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,"aria-selected":O,disabled:void 0,onClick:I,onFocus:x,onPointerEnter:g,onMouseEnter:g,onPointerMove:A,onMouseMove:A,onPointerLeave:M,onMouseLeave:M},theirProps:a,slot:V,defaultTag:rt,name:"Listbox.Option"})}let ot=C(We),at=C(Ye),lt=C(Ze),it=C(tt),st=C(nt),z=Object.assign(ot,{Button:at,Label:lt,Options:it,Option:st});const{ChevronsUpDown:ut,Check:ct}=ke,pt=({lists:e,selected:n,setSelected:t,label:o})=>h.jsxs("div",{className:"w-full",children:[o&&h.jsx("p",{className:"text-slate-900 dark:text-gray-500",children:o}),h.jsx(z,{value:n,onChange:t,children:({open:l})=>h.jsxs("div",{className:"relative mt-1",children:[h.jsxs(z.Button,{className:"relative w-full cursor-default rounded bg-white pl-3 pr-10 text-left px-3 py-2.5 2xl:py-3 border border-gray-300 sm:text-sm",children:[h.jsx("span",{className:"block truncate",children:n}),h.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:h.jsx(ut,{className:`${l?"rotate-180 text-blue-500":"text-gray-400"} h-4 w-4 transition-transform`,"aria-hidden":"true"})})]}),h.jsx(Ee,{as:u.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:h.jsx(z.Options,{className:"z-50 absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm",children:e.map((r,a)=>h.jsx(z.Option,{className:({active:i})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${i?"bg-amber-100 text-amber-900":"text-gray-900"}`,value:r,children:({selected:i})=>h.jsxs(h.Fragment,{children:[h.jsx("span",{className:`block truncate ${i?"font-medium":"font-normal"}`,children:r}),i?h.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600",children:h.jsx(ct,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},a))})})]})})]});export{z as I,pt as S,L as c,Me as f,Ue as s,Ne as u};
