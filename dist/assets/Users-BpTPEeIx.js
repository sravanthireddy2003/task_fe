import{u as Z,b as U,as as W,r as j,at as K,j as e,F as N,B as y,au as Q,i as C,av as Y,Z as _,X as ee,aw as se,ax as te,ay as T,an as ae,ab as D,az as le,aA as H,aB as F,aC as re,a9 as ie,ac as ne,aD as ce,aE as oe,e as de,aF as me,aG as xe,aH as ge}from"./index-hc4IkIQj.js";import{V as he}from"./ViewToggle-SKBPI_TV.js";import{C as be}from"./Dialogs-CPWaYGX9.js";import{u as pe}from"./index.esm-BAuHutGw.js";import"./Textbox-CzrBNsnO.js";import{_ as O}from"./ModalWrapper-C7Y2Juyb.js";import{C as je}from"./Card-BuvNGcek.js";const fe=({open:s,setOpen:c,userData:l})=>{var E;const d=Z(),{isLoading:b}=U(m=>m.auth),w=U(m=>{var v;return(v=m.user)==null?void 0:v.status}),f=U(W)||[],x=w==="loading"||b,{register:g,handleSubmit:k,formState:{errors:a},reset:i,setError:h,clearErrors:p,watch:G}=pe({defaultValues:{name:"",email:"",title:"",phone:"",role:"Employee",departmentId:"",isGuest:!1,isActive:!0}}),u={required:"Full name is required!",minLength:{value:2,message:"Name must be at least 2 characters"},maxLength:{value:100,message:"Name too long (max 100 chars)"}},P={required:"Email is required!",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Invalid email format"}},n={maxLength:{value:20,message:"Phone too long (max 20 chars)"}};j.useEffect(()=>{if(!s){i(),p();return}l?(i({name:l.name||"",email:l.email||"",title:l.title||"",phone:l.phone||"",role:l.role||"Employee",departmentId:l.departmentPublicId||"",isGuest:l.isGuest||!1,isActive:l.isActive??!0}),p()):i()},[s,l,i,p]),j.useEffect(()=>{s&&d(K())},[d,s]);const A=async m=>{var v,M;try{if(p(),l&&(l._id||l.id||l.public_id)){const r=l._id||l.id||l.public_id,o=await d(Q({id:r,...m})).unwrap();C.success(`Updated ${((v=o==null?void 0:o.user)==null?void 0:v.name)||(o==null?void 0:o.name)||"User"} successfully`)}else{const r=await d(Y(m)).unwrap(),o=(r==null?void 0:r.data)||r;C.success(`Created ${(o==null?void 0:o.name)||"User"} successfully`),o!=null&&o.tempPassword&&C.info(`Temporary password: ${o.tempPassword}`)}c(!1),d(_())}catch(r){console.error("Submit error:",r),r!=null&&r.message?C.error(r.message):C.error("Operation failed. Please try again."),r!=null&&r.errors&&typeof r.errors=="object"?Object.entries(r.errors).forEach(([o,L])=>{h(o,{type:"server",message:Array.isArray(L)?L[0]:L})}):(M=r==null?void 0:r.data)!=null&&M.message&&h("root.serverError",{type:"server",message:r.data.message})}},S=()=>{i(),p(),c(!1)};return e.jsxs(O,{open:s,onClose:S,className:"relative z-50",children:[e.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx(O.Panel,{className:"relative bg-white w-full max-w-2xl rounded-xl shadow-xl",children:e.jsxs("form",{onSubmit:k(A),className:"space-y-6",children:[e.jsx("div",{className:"px-6 pt-6 pb-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(O.Title,{className:"text-xl font-semibold text-gray-900",children:l?"Edit User":"Add New User"}),e.jsx("button",{type:"button",onClick:S,className:"p-2 hover:bg-gray-100 rounded-lg text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"px-6 pb-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",placeholder:"Enter full name",...g("name",u),className:N("w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",a.name?"border-red-300 bg-red-50":"border-gray-300")}),a.name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),e.jsx("input",{type:"text",placeholder:"Job title/position",...g("title",{maxLength:{value:100,message:"Title too long"}}),className:N("w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",a.title?"border-red-300 bg-red-50":"border-gray-300")}),a.title&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.title.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",placeholder:"user@company.com",...g("email",P),className:N("w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",a.email?"border-red-300 bg-red-50":"border-gray-300")}),a.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",placeholder:"+1 (555) 123-4567",...g("phone",n),className:N("w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",a.phone?"border-red-300 bg-red-50":"border-gray-300")}),a.phone&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.phone.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),e.jsxs("select",{...g("role",{required:"Role is required!"}),disabled:x,className:N("w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white",a.role?"border-red-300 bg-red-50":"border-gray-300"),children:[e.jsx("option",{value:"",children:"Select Role"}),e.jsx("option",{value:"Admin",children:"Admin"}),e.jsx("option",{value:"Manager",children:"Manager"}),e.jsx("option",{value:"Employee",children:"Employee"}),e.jsx("option",{value:"Client",children:"Client"})]}),a.role&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.role.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),e.jsxs("select",{...g("departmentId"),disabled:x||f.length===0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white",children:[e.jsx("option",{value:"",children:"-- Select Department --"}),f.map(m=>e.jsx("option",{value:m.public_id||m.id||m._id,children:m.name},m.public_id||m.id||m._id))]})]})]}),e.jsxs("fieldset",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("legend",{className:"text-sm font-medium text-gray-700 px-1 mb-4",children:"Status Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer group",children:[e.jsx("input",{type:"checkbox",...g("isActive"),className:N("h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-colors",x&&"cursor-not-allowed opacity-50"),disabled:x}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-600",children:"Active User"}),e.jsx("p",{className:"text-xs text-gray-500",children:"User can login and access system"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer group",children:[e.jsx("input",{type:"checkbox",...g("isGuest"),className:N("h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-colors",x&&"cursor-not-allowed opacity-50"),disabled:x}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600",children:"Guest User"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Limited access user"})]})]})]})]}),((E=a.root)==null?void 0:E.serverError)&&e.jsx("div",{className:"mt-6 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800",children:a.root.serverError.message})})]}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(y,{type:"button",onClick:S,disabled:x,label:"Cancel",className:"px-6 py-2.5 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 rounded-lg font-medium"}),e.jsx(y,{type:"submit",label:x?"Saving...":"Save User",className:N("px-8 py-2.5 font-medium rounded-lg",x?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-blue-500 hover:bg-blue-200 text-black-700"),children:x?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/80 border-t-transparent rounded-full animate-spin"}),"Saving..."]}):"Save User"})]})})]})})})})]})},ue=({users:s})=>{const c=s.length,l=s.filter(b=>b.isActive).length,d=c-l;return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[e.jsx(F,{title:"Total Members",value:c,tone:"primary",icon:e.jsx(H,{className:"tm-icon text-blue-600"})}),e.jsx(F,{title:"Active Members",value:l,tone:"success",icon:e.jsx(re,{className:"tm-icon text-emerald-600"})}),e.jsx(F,{title:"Inactive Members",value:d,tone:"warning",icon:e.jsx(ie,{className:"tm-icon text-amber-600"})})]})},V=({user:s,size:c="md"})=>{const l={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-14 h-14 text-lg"},d=(b="")=>!b||typeof b!="string"?"??":b.split(" ").map(w=>w[0]).join("").toUpperCase().slice(0,2);return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`${l[c]} rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white flex items-center justify-center font-bold shadow-sm`,children:d(s==null?void 0:s.name)}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-white ${s!=null&&s.isActive?"bg-green-500":"bg-gray-400"}`})]})},ye=({user:s,onClick:c})=>e.jsxs(je,{className:"cursor-pointer",onClick:()=>c(s),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx(V,{user:s,size:"md"}),e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded icon-center",children:e.jsx(ne,{className:"tm-icon"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-1",children:s==null?void 0:s.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:(s==null?void 0:s.title)||(s==null?void 0:s.role)}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(ce,{className:"tm-icon text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-700 truncate",children:s==null?void 0:s.email})]}),(s==null?void 0:s.phone)&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(oe,{className:"tm-icon text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-700",children:s==null?void 0:s.phone})]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${(s==null?void 0:s.role)==="Admin"?"bg-purple-100 text-purple-800":(s==null?void 0:s.role)==="Manager"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:s==null?void 0:s.role}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s!=null&&s.isActive?"bg-green-500":"bg-gray-400"}`}),e.jsx("span",{className:"text-xs text-gray-600",children:s!=null&&s.isActive?"Active":"Inactive"})]})]})})]}),ve=({user:s,onClick:c})=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 cursor-pointer",onClick:()=>c(s),children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(V,{user:s,size:"sm"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate",children:s==null?void 0:s.name}),e.jsx("div",{className:"text-sm text-gray-500 truncate",children:s==null?void 0:s.title})]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"text-sm text-gray-900 truncate max-w-[200px]",children:s==null?void 0:s.email})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${(s==null?void 0:s.role)==="Admin"?"bg-purple-100 text-purple-800":(s==null?void 0:s.role)==="Manager"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:s==null?void 0:s.role})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"text-sm text-gray-600",children:(s==null?void 0:s.departmentName)||"-"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s!=null&&s.isActive?"bg-green-500":"bg-gray-400"}`}),e.jsx("span",{className:"text-sm",children:s!=null&&s.isActive?"Active":"Inactive"})]})}),e.jsx("td",{className:"py-3 px-4 text-center align-middle",children:e.jsx("span",{className:"inline-flex items-center justify-center text-blue-600 cursor-pointer icon-center",children:e.jsx(de,{className:"tm-icon"})})})]}),Ne=({user:s,isOpen:c,onClose:l,onEdit:d,onDelete:b})=>{var f,x,g,k;if(!c||!s)return null;const w=[{label:"Projects",value:((f=s.projects)==null?void 0:f.length)||0,color:"blue"},{label:"Total Tasks",value:((x=s.tasks)==null?void 0:x.length)||0,color:"green"},{label:"Completed Tasks",value:((g=s.tasks)==null?void 0:g.filter(a=>a.stage==="COMPLETED").length)||0,color:"emerald"},{label:"In Progress",value:((k=s.tasks)==null?void 0:k.filter(a=>a.stage==="IN_PROGRESS"||a.stage==="PENDING").length)||0,color:"orange"}];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col shadow-modal",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-gray-100 bg-gray-50/80",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(V,{user:s,size:"lg"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:s.name}),e.jsx("p",{className:"text-gray-600",children:s.title||s.role})]})]}),e.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(T,{className:"tm-icon"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-white",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Email"}),e.jsx("div",{className:"font-medium text-gray-900",children:s.email})]}),s.phone&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Phone"}),e.jsx("div",{className:"font-medium text-gray-900",children:s.phone})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Role"}),e.jsx("span",{className:`font-medium px-3 py-1 rounded-full text-sm ${s.role==="Admin"?"bg-purple-100 text-purple-800":s.role==="Manager"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:s.role})]}),s.departmentName&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Department"}),e.jsx("div",{className:"font-medium text-gray-900",children:s.departmentName})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Activity Overview"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:w.map((a,i)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${a.color==="blue"?"bg-blue-500":a.color==="green"?"bg-green-500":a.color==="orange"?"bg-orange-500":"bg-emerald-500"}`}),e.jsx("span",{className:"text-xs text-gray-600",children:a.label})]}),e.jsx("div",{className:"text-xl font-bold text-gray-900",children:a.value})]},i))})]}),s.projects&&s.projects.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-gray-900 mb-3",children:["Projects (",s.projects.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.projects.map((a,i)=>e.jsx("span",{className:"inline-flex items-center px-3 py-1 bg-blue-50 text-blue-700 rounded-lg text-sm",children:a.name||`Project ${a.internalId}`},i))})]}),s.tasks&&s.tasks.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-gray-900 mb-3",children:["Tasks (",s.tasks.length,")"]}),e.jsx("div",{className:"space-y-2",children:s.tasks.slice(0,5).map((a,i)=>{var h,p;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:a.title}),e.jsx("div",{className:"text-sm text-gray-500",children:((h=a.project)==null?void 0:h.name)||`Project ${(p=a.project)==null?void 0:p.internalId}`})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${a.stage==="COMPLETED"?"bg-green-100 text-green-800":a.stage==="IN_PROGRESS"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:a.status})})]},i)})})]})]})}),e.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50/80",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(y,{onClick:()=>{l(),d(s)},icon:me,label:"Edit User",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white border-transparent"}),e.jsx(y,{onClick:()=>{l(),b(s)},icon:xe,label:"Delete User",className:"flex-1 bg-red-600 hover:bg-red-700 text-white border-transparent"})]})})]})})},Me=()=>{const s=Z(),c=U(ee)||[],l=U(se),d=U(te),b=l==="loading",[w,f]=j.useState(!1),[x,g]=j.useState(!1),[k,a]=j.useState(!1),[i,h]=j.useState(null),[p,G]=j.useState("list"),[u,P]=j.useState(""),[n,A]=j.useState({role:"all",status:"all",department:"all"});j.useEffect(()=>{s(_())},[s]);const S=()=>{s(_())},E=j.useMemo(()=>c.filter(t=>{var z,q,B;const $=u===""||((z=t==null?void 0:t.name)==null?void 0:z.toLowerCase().includes(u.toLowerCase()))||((q=t==null?void 0:t.email)==null?void 0:q.toLowerCase().includes(u.toLowerCase()))||((B=t==null?void 0:t.role)==null?void 0:B.toLowerCase().includes(u.toLowerCase())),R=n.role==="all"||(t==null?void 0:t.role)===n.role,X=n.status==="all"||n.status==="active"&&(t==null?void 0:t.isActive)===!0||n.status==="inactive"&&(t==null?void 0:t.isActive)===!1,J=n.department==="all"||(t==null?void 0:t.departmentName)===n.department;return $&&R&&X&&J}),[c,u,n]),m=t=>{const $=new Set(c.map(R=>R[t]).filter(Boolean));return Array.from($)},v=()=>{P(""),A({role:"all",status:"all",department:"all"})},M=t=>{h(t),a(!0)},r=t=>{h(t),f(!0)},o=t=>{h(t),g(!0)},L=async()=>{if(i)try{await s(ge(i.id)).unwrap(),C.success("User deleted successfully"),g(!1),h(null)}catch(t){C.error(t.message||"Failed to delete user")}},I=u||n.role!=="all"||n.status!=="all"||n.department!=="all";return b?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading team members..."})]})}):d?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(T,{className:"tm-icon text-red-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to load users"}),e.jsx("p",{className:"text-gray-600 mb-6",children:(d==null?void 0:d.message)||String(d)}),e.jsx(y,{label:"Retry Loading",onClick:S,className:"bg-blue-600 hover:bg-blue-700 text-white"})]})}):e.jsxs("div",{className:"min-h-screen bg-[var(--bg-app)]",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-6",children:e.jsx(ae,{title:"Team Members",subtitle:"Manage your team members and their permissions",onRefresh:S,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{mode:p,onChange:G}),e.jsx(y,{onClick:()=>{h(null),f(!0)},icon:D,label:"Add Member",className:"bg-blue-600 hover:bg-blue-700 text-white border-transparent"})]})})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-8 space-y-6",children:[e.jsx(ue,{users:c}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200/80 p-5 shadow-card",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"tm-icon absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name, email, or role...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-shadow",value:u,onChange:t=>P(t.target.value)})]})}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("select",{className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-gray-700 font-medium min-w-[140px]",value:n.role,onChange:t=>A({...n,role:t.target.value}),children:[e.jsx("option",{value:"all",children:"All Roles"}),m("role").map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsxs("select",{className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-gray-700 font-medium min-w-[140px]",value:n.status,onChange:t=>A({...n,status:t.target.value}),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),e.jsxs("select",{className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-gray-700 font-medium min-w-[140px]",value:n.department,onChange:t=>A({...n,department:t.target.value}),children:[e.jsx("option",{value:"all",children:"All Departments"}),m("departmentName").map(t=>e.jsx("option",{value:t,children:t},t))]}),I&&e.jsx(y,{onClick:v,icon:T,label:"Clear Filters",className:"bg-gray-100 hover:bg-gray-200 text-gray-700 border-gray-300"})]})]})}),E.length===0?e.jsxs("div",{className:"bg-white rounded-lg border-2 border-dashed border-gray-300 p-16 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(H,{className:"tm-icon text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No members found"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:I?"No members match your current filters. Try adjusting your search criteria.":"Get started by adding your first team member."}),I?e.jsx(y,{onClick:v,icon:T,label:"Clear all filters",className:"text-blue-600 hover:text-blue-700 bg-transparent border-transparent hover:bg-blue-50"}):e.jsx(y,{onClick:()=>{h(null),f(!0)},icon:D,label:"Add First Member",className:"bg-blue-600 hover:bg-blue-700 text-white"})]}):p==="grid"?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:E.map(t=>e.jsx(ye,{user:t,onClick:M},t.id))}):e.jsx("div",{className:"tm-list-container",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3.5 px-6 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"py-3.5 px-6 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"py-3.5 px-6 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"py-3.5 px-6 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Department"}),e.jsx("th",{className:"py-3.5 px-6 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"py-3.5 px-6 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:E.map(t=>e.jsx(ve,{user:t,onClick:M},t.id))})]})})})]}),e.jsx(Ne,{user:i,isOpen:k,onClose:()=>a(!1),onEdit:r,onDelete:o}),e.jsx(fe,{open:w,setOpen:f,userData:i}),e.jsx(be,{open:x,setOpen:g,onClick:L,title:"Delete Member",message:`Are you sure you want to remove "${i==null?void 0:i.name}" from the team? This action cannot be undone.`,confirmText:"Delete Member",confirmClassName:"bg-red-600 hover:bg-red-700"})]})};export{Me as default};
