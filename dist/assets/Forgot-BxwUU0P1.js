import{u as p,b as d,c as f,d as g,a as y,R as w,j as s,B as j,bK as N,i as l}from"./index-DOgJOjDG.js";import{u as S}from"./index.esm-BUzRow5i.js";import{T as P}from"./Textbox-DprLlZeq.js";const O=()=>{const u=p(),r=d(f),i=d(g),n=y(),{register:x,handleSubmit:b,setValue:m}=S(),h=a=>{u(N(a)).then(e=>{var t;if(e.type&&e.type.endsWith("fulfilled")){const o=e.payload&&(e.payload.message||e.payload.msg)||"OTP sent to email";l.success(o),n("/reset",{state:{email:a.email}})}else{const o=((t=e.payload)==null?void 0:t.message)||e.payload||e.error||"Failed to send OTP";l.error(o)}}).catch(e=>{l.error((e==null?void 0:e.message)||"Failed to send OTP")})};return w.useEffect(()=>{var a,e;try{const t=(e=(a=window.history.state)==null?void 0:a.usr)==null?void 0:e.state,c=new URLSearchParams(window.location.search).get("email")||t&&t.email||null;c&&m("email",c)}catch{}},[m]),s.jsx("div",{className:"w-full min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4",children:s.jsxs("div",{className:"w-full max-w-md bg-white/80 backdrop-blur-md shadow-2xl rounded-3xl p-10 border border-white/30",children:[s.jsx("h2",{className:"text-3xl font-bold text-blue-800 mb-2 text-center",children:"Forgot Password"}),s.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Enter your email address and weâ€™ll send you an OTP to reset your password."}),s.jsxs("form",{onSubmit:b(h),className:"flex flex-col gap-5",children:[s.jsx(P,{label:"Email",name:"email",placeholder:"email@example.com",className:"w-full h-12 rounded-full border border-gray-300 px-4 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition",register:x("email",{required:"Email is required"})}),r==="failed"&&i&&s.jsx("p",{className:"text-sm text-red-500 text-center",children:i}),s.jsx(j,{type:"submit",label:r==="loading"?"Sending...":"Send OTP",className:"w-full h-12 bg-blue-700 text-white rounded-full font-semibold hover:bg-blue-800 transition"}),s.jsxs("p",{className:"text-center text-gray-600 text-sm mt-2",children:["Remembered your password?"," ",s.jsx("span",{onClick:()=>n("/login"),className:"text-blue-700 font-semibold hover:underline cursor-pointer",children:"Login"})]})]})]})})};export{O as default};
